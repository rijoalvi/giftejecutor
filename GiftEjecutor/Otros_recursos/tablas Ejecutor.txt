-- Tabla: "FLUJOSACTIVOS"
drop table FLUJOSACTIVOS;
CREATE TABLE FLUJOSACTIVOS(
  correlativo int identity (1,1) NOT NULL,
  idFlujo int NOT NULL,
  activo int NOT NULL,
  ultimaActualizacion SMALLDATETIME DEFAULT GetDATE(),
  PRIMARY KEY (correlativo)
);

-- Tabla: "RELACIONESSIMETRICAS"
drop table RELACIONESSIMETRICAS;
CREATE TABLE RELACIONESSIMETRICAS(
  correlativo				int identity (1,1)	NOT NULL,
  idFormulario1				varchar(30)			NOT NULL,
  idFormulario2				varchar(30)			NOT NULL,
  idRelacionConfigurador	varchar(30)			NOT NULL,
  ultimaActualizacion		SMALLDATETIME		DEFAULT GetDATE(),
  PRIMARY KEY (correlativo)
);

--tabla: "EXPEDIENTE"
drop TABLE EXPEDIENTE;
CREATE TABLE EXPEDIENTE(
  correlativo   int identity(1,1) NOT NULL,
  IDFlujo        int NOT NULL,
  IDColeccion int NOT NULL,
  nombre       varchar(30) NOT NULL,
  PRIMARY KEY (correlativo)
);

--tabla: "COLECCION"
drop TABLE COLECCION;
CREATE TABLE COLECCION(
  correlativo   int identity(1,1) NOT NULL,
  nombre       varchar(20),
  correlativoPadre int NOT NULL,--------OJO ESTOS DOS CAMPOS SON NUEVOS..... EL CORRELATIVO FLUJO HACE QUE SE RELACIONE CON LA TABLA FLUJOS ACTIVOS
  correlativoFlujo int NOT NULL,
  PRIMARY KEY (correlativo)
);

--tabla "BITACORA"
drop TABLE BITACORA;
CREATE TABLE BITACORA(
	correlativo		int identity(1,1) NOT NULL,
	IDExpediente	int,
	IDActividad		int,
	IDComando		int,
	IDInstaciaForm	int,
	IDFormConfigurador	int,
	ejecutada		VARCHAR(6),
	fecha			SMALLDATETIME	DEFAULT GetDate(),
	descripcion		VARCHAR(150),
	PRIMARY KEY(correlativo)
);